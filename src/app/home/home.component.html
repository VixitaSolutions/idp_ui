<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01"
            aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
            <a class="navbar-brand text-dark" href="#">Learning Management System</a>
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <!-- <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
          </li> -->
            </ul>

            <ul class="flex-lg-row flexy justify-content-end navbar-nav">
                <li class="nav-item text-nowrap">
                    <img src="assets/icons/notification.jpeg" alt="notifications" style="width: 50px" />
                </li>
                <li class="nav-item text-nowrap" ngbDropdown display="dynamic" placement="bottom-end">
                    <a class="nav-link" tabindex="0" ngbDropdownToggle id="navbarDropdown3" role="button"
                        (click)="getUserInfo();">
                        <img src="assets/icons/profile.jpeg" alt="profile" style="width: 30px" class="rounded-circle" />
                    </a>

                    <div ngbDropdownMenu aria-labelledby="navbarDropdown3" class="dropdown-menu custom-drp">
                        <div class="container">
                            <div class="row flex-nowrap">
                                <div class="col pp-mw">
                                    <span
                                        class="profileImage">{{loggedInUser?.firstName[0]|uppercase}}{{loggedInUser?.lastName[0]|uppercase}}</span>
                                </div>
                                <div class="col">
                                    <div class="row">
                                        <div class="col font-bold">
                                            Mr. {{loggedInUser?.firstName | titlecase}} {{loggedInUser?.lastName |
                                            titlecase}}
                                        </div>
                                        <div class="col text-muted">
                                            {{role}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <span class="border-bottom">
                        <span class="profileImage">{{loggedInUser?.firstName[0]|uppercase}}{{loggedInUser?.lastName[0]|uppercase}}</span>
                        Mr. {{loggedInUser?.firstName | titlecase}} {{loggedInUser?.lastName | titlecase}}
                    </span>
                    <span ngbDropdownItem class="border-bottom">{{role}}</span> -->
                        <a ngbDropdownItem href="#" (click)="$event.preventDefault();setPage('profile');"
                            class="border-bottom">
                            <img src="assets/icons/profile.jpeg" alt="profile" style="width: 30px"
                                class="rounded-circle" /> Profile
                        </a>
                        <a ngbDropdownItem href="#" (click)="$event.preventDefault();setPage('resetPwd');"
                            class="border-bottom">
                            <img src="assets/icons/Password.png" alt="profile" style="width: 30px"
                                class="rounded-circle" /> Change Password</a>
                        <a ngbDropdownItem href="#" (click)="$event.preventDefault();logout()">
                            <img src="assets/icons/Logout.png" alt="profile" style="width: 30px"
                                class="rounded-circle" /> Logout
                        </a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="row" *ngIf="defaultPage">
        <div class="sidebar">
            <div
                class="align-items-center border-bottom d-flex flex-md-nowrap flex-wrap justify-content-center mb-3 pb-2">
                <img style="width: 120px" src="./assets/images/company-logo.jpeg" />
            </div>
            <ul class="nav nav-sidebar">
                <li class="nav-item ">
                    <a class="nav-link" href="#" routerLink="dashboard" routerLinkActive="active"
                       >
                        <i><img class="menu-icon" src="./assets/icons/home.jpeg" /></i>
                        <span data-feather="home"></span>
                        Home
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" routerLink="manage-clients" routerLinkActive="active"
                        >
                        <img class="menu-icon" src="./assets/icons/manage_clients.jpeg" />
                        Manage Clients
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" routerLink="manage-admins" routerLinkActive="active"
                        >
                        <img class="menu-icon" src="./assets/icons/manage_admins.jpeg" />
                        Manage Admins
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" routerLink="competency-mapping" routerLinkActive="active"
                        >
                        <img class="menu-icon" src="./assets/icons/competency_mapping.jpeg" />
                        Competency Mapping
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" routerLink="manage-employees" routerLinkActive="active"
                        >
                        <img class="menu-icon" src="./assets/icons/manage_clients.jpeg" />
                        All Employees Data
                    </a>
                </li>

            </ul>
            <ul class="list-unstyled" style="width: 17vw;margin-left: -1em;">
                <li class="nav-item bg-ltgrey " style="margin-top: 3em;">
                    <a class="nav-link" href="#" routerLink="upload-competency" routerLinkActive="active"
                    style="width: 20em;">
                        Upload Competency Framework
                    </a>
                </li>
                <li class="nav-item bg-ltgrey">
                    <a class="nav-link" href="#" routerLink="upload-employees" routerLinkActive="active"
                        >
                        Upload Employees data
                    </a>
                </li>
            </ul>

        </div>
        <div class="col-sm-12 main">
            <div
                class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
                <h3>VIXITA Admin Dashboard</h3>
            </div>
            <div class="p-5 pt-0">
                <div class="card p-5">
                    <router-outlet></router-outlet>
                </div>
            </div>

        </div>
    </div>
    <div class="row p-5 mt-4" *ngIf="showPwdResetPage">
        <app-password-reset [emitValue]="true" (exitEmit)="setPage('default')"></app-password-reset>
    </div>
    <div class="row p-5 mt-4" *ngIf="showProfilePage">
        <app-user-profile [user]="userFromApi" (exitProfile)="setPage('default')"></app-user-profile>
    </div>
</div>