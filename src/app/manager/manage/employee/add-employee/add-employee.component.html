<h2>{{title}}</h2>
<div *appBusyIndicator="isBusy"></div>
<div class="d-flex flex-row">
    <div class="w-50">
        <img class="add-img" src="./assets/images/registration.jpg" />
    </div>
    <div class="w-50 forms-grp">
        <form [formGroup]="addEmployeeForm" (ngSubmit)="save()">
            <!-- <div class="form-group mb-3">
                <label for="employeeName">Employee Name</label>
                <select id="userId" placeholder="Status" class="form-control input-field"
                    (change)="setEmail()" required
                    formControlName="userId" [ngClass]="{ 'is-invalid': f.userId.touched && f.userId.errors }">
                    <option value="undefined" disabled>--Select Employee--</option>
                    <option [value]="user.id" *ngFor="let user of employeesList">{{user.firstName}} {{user.lastName}}</option>
                </select>
                <small *ngIf="f.userId.touched && f.userId.errors" class="form-text text-muted">
                    <div *ngIf="f.userId.errors.required">Employee name is required</div>
                </small>
            </div> -->
            <div class="form-group mb-3">
                <label for="firstName">First Name</label>
                <input name="firstName" formControlName="firstName" placeholder="Enter First Name" class="form-control input-field" required
                    [ngClass]="{ 'is-invalid': f.firstName.touched && f.firstName.errors }">
                <small *ngIf="f.firstName.touched && f.firstName.errors" class="form-text text-muted">
                    <div *ngIf="f.firstName.errors.required">First name is required</div>
                </small>
            </div>
            <div class="form-group mb-3">
                <label for="lastName">Last Name</label>
                <input name="lastName" formControlName="lastName" placeholder="Enter Last Name" class="form-control input-field" required
                    [ngClass]="{ 'is-invalid': f.lastName.touched && f.lastName.errors }">
                <small *ngIf="f.lastName.touched && f.lastName.errors" class="form-text text-muted">
                    <div *ngIf="f.lastName.errors.required">Last name is required</div>
                </small>
            </div>
            <div class="form-group mb-3">
                <label for="email">Email</label>
                <input type="text" id="email" placeholder="Enter Email" class="form-control input-field" formControlName="email" 
                    required [attr.disabled]="isDisable"
                    [ngClass]="{ 'is-invalid': f.email.touched && f.email.errors }">
                <small *ngIf="f.email.touched && f.email.errors" class="form-text text-muted">
                    <div *ngIf="f.email.errors.required">Email is required</div>
                    <div *ngIf="f.email.errors.email">Invalid email Name</div>
                </small>
            </div>
            <div class="form-group mb-3">
                <label for="mobile">Mobile Number</label>
                <input type="text" id="mobile" placeholder="Enter Mobile Number" class="form-control input-field" formControlName="mobile" [ngClass]="{ 'is-invalid': f.mobile.touched && f.mobile.errors }">
                <small *ngIf="f.mobile.touched && f.mobile.errors" class="form-text text-muted">
                    <div *ngIf="f.mobile.errors.required">Mobile is required</div>
                    <div *ngIf="f.mobile.errors.minlength || f.mobile.errors.maxlength">Invalid Mobile Number</div>
                </small>
            </div>
            <div class="form-group mb-3">
                <label for="coachName">Assigned To</label>
                <select id="coachId" class="form-control input-field"
                    formControlName="coachId" [ngClass]="{ 'is-invalid': f.coachId.touched && f.coachId.errors }">
                    <option value="undefined" disabled>--Select Coach--</option>
                    <option [value]="user.id" *ngFor="let user of employeesList">{{user.firstName}} {{user.lastName}}</option>
                </select>
                <small *ngIf="f.coachId.touched && f.coachId.errors" class="form-text text-muted">
                    <div *ngIf="f.coachId.errors.required">Caoch Name is required</div>
                    <div *ngIf="f.coachId.errors.email">Invalid Coach Name</div>
                </small>
            </div>
            <div class="form-group mb-3">
                <div class="form-check form-switch p-0">
                    <label for="status">Status</label>
                    <span class="float-end ps-2" *ngIf="active">Active</span><span class="float-end ps-2" *ngIf="!active">Inactive</span>
                    <input type="checkbox" class="form-check-input float-end" id="status"
                    formControlName="active" (change)="active=!active"
                    [ngClass]="{ 'is-invalid': f.active.touched && f.active.errors }">
                </div>
                <small *ngIf="f.active.touched && f.active.errors" class="form-text text-muted">
                    <div *ngIf="f.active.errors.required">Status is required</div>
                </small>
            </div>
            <div class="button button-flex">
                <button type="button" class="btn" (click)="closeEvent.emit(true);">Back</button>
                <button type="button" class="btn" (click)="addEmployeeForm.reset()">Clear</button>
                <button type="submit" class="btn" [disabled]="addEmployeeForm.invalid">Save</button>
            </div>
        </form>
    </div>
</div>